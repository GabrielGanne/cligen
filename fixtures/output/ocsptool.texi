@node ocsptool Invocation
@heading Invoking ocsptool
@pindex ocsptool

ocsptool is a program that can parse and print information about
OCSP requests/responses, generate requests and verify responses. Unlike
other GnuTLS applications it outputs DER encoded structures by default
unless the '--outpem' option is specified.

@anchor{ocsptool usage}
@subheading ocsptool help/usage (@option{-?})
@cindex ocsptool help

The text printed is the same whether selected with the @code{help} option
(@option{--help}) or the @code{more-help} option (@option{--more-help}).  @code{more-help} will print
the usage text by passing it through a pager program.
@code{more-help} is disabled on platforms without a working
@code{fork(2)} function.  The @code{PAGER} environment variable is
used to select the program, defaulting to @file{more}.  Both will exit
with a status code of 0.

@exampleindent 0
@example
ocsptool - GnuTLS OCSP tool
Usage:  ocsptool [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]... 

None:

   -d, --debug=num            Enable debugging
				- it must be in the range:
				  0 to 9999
   -V, --verbose              More verbose output
       --infile=file          Input file
				- file must pre-exist
       --outfile=str          Output file
       --ask[=str]            Ask an OCSP/HTTP server on a certificate validity
   -e, --verify-response      Verify response
   -i, --request-info         Print information on a OCSP request
   -j, --response-info        Print information on a OCSP response
   -q, --generate-request     Generates an OCSP request
       --nonce                Use (or not) a nonce to OCSP request
       --load-chain=file      Reads a set of certificates forming a chain from file
				- file must pre-exist
       --load-issuer=file     Reads issuer's certificate from file
				- file must pre-exist
       --load-cert=file       Reads the certificate to check from file
				- file must pre-exist
       --load-trust=file      Read OCSP trust anchors from file
				- prohibits the option 'load-signer'
				- file must pre-exist
       --load-signer=file     Reads the OCSP response signer from file
				- prohibits the option 'load-trust'
				- file must pre-exist
       --inder                Use DER format for input certificates and private keys
       --outder               Use DER format for output of responses (this is the default)
       --outpem               Use PEM format for output of responses
   -Q, --load-request=file    Reads the DER encoded OCSP request from file
				- file must pre-exist
   -S, --load-response=file   Reads the DER encoded OCSP response from file
				- file must pre-exist
       --ignore-errors        Ignore any verification errors
       --verify-allow-broken  Allow broken algorithms, such as MD5 for verification

Version, usage and configuration options:

   -v, --version[=arg]        output version information and exit
   -h, --help                 display extended usage information and exit
   -!, --more-help            extended usage information passed thru pager

Options are specified by doubled hyphens and their name or by a single
hyphen and the flag character.

ocsptool is a program that can parse and print information about
OCSP requests/responses, generate requests and verify responses. Unlike
other GnuTLS applications it outputs DER encoded structures by default
unless the '--outpem' option is specified.

@end example
@exampleindent 4

@subheading debug option (-d).
@anchor{ocsptool debug}

This is the ``enable debugging'' option.
This option takes a ArgumentType.NUMBER argument.
Specifies the debug level.
@subheading ask option.
@anchor{ocsptool ask}

This is the ``ask an ocsp/http server on a certificate validity'' option.
This option takes a ArgumentType.STRING argument @file{server name|url}.
Connects to the specified HTTP OCSP server and queries on the validity of the loaded certificate.
Its argument can be a URL or a plain server name. It can be combined with --load-chain, where it checks
all certificates in the provided chain, or with --load-cert and
--load-issuer options. The latter checks the provided certificate
against its specified issuer certificate.
@subheading verify-response option (-e).
@anchor{ocsptool verify-response}

This is the ``verify response'' option.
Verifies the provided OCSP response against the system trust
anchors (unless --load-trust is provided). It requires the --load-signer
or --load-chain options to obtain the signer of the OCSP response.
@subheading request-info option (-i).
@anchor{ocsptool request-info}

This is the ``print information on a ocsp request'' option.
Display detailed information on the provided OCSP request.
@subheading response-info option (-j).
@anchor{ocsptool response-info}

This is the ``print information on a ocsp response'' option.
Display detailed information on the provided OCSP response.
@subheading load-trust option.
@anchor{ocsptool load-trust}

This is the ``read ocsp trust anchors from file'' option.
This option takes a ArgumentType.FILE argument.

@noindent
This option has some usage constraints.  It:
@itemize @bullet
@item
must not appear in combination with any of the following options:
load-signer.
@end itemize

When verifying an OCSP response read the trust anchors from the
provided file. When this is not provided, the system's trust anchors will be
used.
@subheading outder option.
@anchor{ocsptool outder}

This is the ``use der format for output of responses (this is the default)'' option.
The output will be in DER encoded format. Unlike other GnuTLS tools, this is the default for this tool
@subheading outpem option.
@anchor{ocsptool outpem}

This is the ``use pem format for output of responses'' option.
The output will be in PEM format.
@subheading verify-allow-broken option.
@anchor{ocsptool verify-allow-broken}

This is the ``allow broken algorithms, such as md5 for verification'' option.
This can be combined with --verify-response.
@subheading version option (-v).
@anchor{ocsptool version}

This is the ``output version information and exit'' option.
This option takes a ArgumentType.KEYWORD argument.
Output version of program and exit.  The default mode is `v', a simple
version.  The `c' mode will print copyright information and `n' will
print the full copyright notice.
@subheading help option (-h).
@anchor{ocsptool help}

This is the ``display extended usage information and exit'' option.
Display usage information and exit.
@subheading more-help option (-!).
@anchor{ocsptool more-help}

This is the ``extended usage information passed thru pager'' option.
Pass the extended usage information through a pager.
@anchor{ocsptool exit status}
@subheading ocsptool exit status

One of the following exit values will be returned:
@table @samp
@item 0 (EXIT_SUCCESS)
Successful program execution.
@item 1 (EXIT_FAILURE)
The operation failed or the command syntax was not valid.
@end table
